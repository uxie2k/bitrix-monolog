<p align="center">
  <h1 align="center">ðŸ“¦ Bitrix Monolog Adapter</h1>
  <p align="center">
    <strong>Monolog (PSR-3) Ð² 1C-Bitrix</strong>
  </p>
  <p align="center">
    <img src="https://img.shields.io/badge/php-%3E%3D8.1-blue?style=for-the-badge&logo=php" alt="PHP 8.1+">
    <img src="https://img.shields.io/badge/bitrix-D7-red?style=for-the-badge" alt="Bitrix D7">
    <img src="https://img.shields.io/badge/license-MIT-green?style=for-the-badge" alt="License MIT">
  </p>
</p>

<hr>

## ðŸ“– ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

Ð­Ñ‚Ð° Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð¾Ñ‰Ð½Ñ‹Ð¹ Ð»Ð¾Ð³Ð³ÐµÑ€ **Monolog** Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð² Ð½Ð° Ð‘Ð¸Ñ‚Ñ€Ð¸ÐºÑÐµ.
Ð’ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ðµ Ð¾Ñ‚ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð³Ð¾ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹, ÑÑ‚Ð¾Ñ‚ Ð°Ð´Ð°Ð¿Ñ‚ÐµÑ€ Ð¿Ð¸ÑˆÐµÑ‚ Ð»Ð¾Ð³Ð¸ Ð² **Highload-Ð±Ð»Ð¾ÐºÐ¸**, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚:

1.  ðŸ” **Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð½Ñ†Ð¸Ð´ÐµÐ½Ñ‚Ñ‹** Ð² Ð°Ð´Ð¼Ð¸Ð½ÐºÐµ Ð¿Ð¾ ÑƒÑ€Ð¾Ð²Ð½ÑŽ, Ð´Ð°Ñ‚Ðµ Ð¸Ð»Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŽ.
2.  ðŸ’¾ **Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚** (JSON Ð¼Ð°ÑÑÐ¸Ð²Ñ‹) Ð² ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¼ Ð²Ð¸Ð´Ðµ.
3.  ðŸš€ **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ** IP, URL Ð¸ User ID Ð¿Ñ€Ð¸ ÐºÐ°Ð¶Ð´Ð¾Ð¹ Ð¾ÑˆÐ¸Ð±ÐºÐµ.

---

## ðŸ“¦ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

ÐŸÐ¾ÑÐºÐ¾Ð»ÑŒÐºÑƒ Ð¿Ð°ÐºÐµÑ‚ Ñ€Ð°Ð·Ð¼ÐµÑ‰ÐµÐ½ Ð½Ð° GitHub, Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð² Ð²Ð°Ñˆ `composer.json`:

### 1. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° composer.json
ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `composer.json` Ð² ÐºÐ¾Ñ€Ð½Ðµ Ð²Ð°ÑˆÐµÐ³Ð¾ ÑÐ°Ð¹Ñ‚Ð° Ð¸ Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÑÐµÐºÑ†Ð¸ÑŽ `repositories`:

```json
{
    "repositories": [
        {
            "type": "vcs",
            "url": "https://github.com/uxie2k/bitrix-monolog"
        }
    ],
    "require": {
        "uxie2k/bitrix-monolog": "dev-main"
    }
}

ðŸ“‹ Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

PHP: Ð’ÐµÑ€ÑÐ¸Ñ 8.1 Ð¸Ð»Ð¸ Ð²Ñ‹ÑˆÐµ.
Bitrix: Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ (Main), ÐœÐ¾Ð´ÑƒÐ»ÑŒ Highloadblock.
Composer: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ.


2. Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ðµ
Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ ÑÐµÑ€Ð²ÐµÑ€Ð°:
composer update

âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð‘Ð°Ð·Ñ‹ Ð”Ð°Ð½Ð½Ñ‹Ñ…
Ð’Ð°Ð¼ Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ Highload-Ð±Ð»Ð¾ÐºÐ¸ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ. Ð‘Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ° ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Smart Installer, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ ÑÐ´ÐµÐ»Ð°ÐµÑ‚ ÑÑ‚Ð¾ Ð·Ð° Ð²Ð°Ñ.
Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ Ð² ÐºÐ¾Ð½ÑÐ¾Ð»Ð¸ (Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð· Ð¿Ð¾ÑÐ»Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸):

php vendor/uxie2k/bitrix-monolog/install_db.php```

**Ð§Ñ‚Ð¾ ÑÐ´ÐµÐ»Ð°ÐµÑ‚ ÑÐºÑ€Ð¸Ð¿Ñ‚?**
*   ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚, ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚ Ð»Ð¸ HL-Ð±Ð»Ð¾Ðº `SystemLogs`.
*   Ð•ÑÐ»Ð¸ Ð½ÐµÑ‚ â€” ÑÐ¾Ð·Ð´Ð°ÑÑ‚ ÐµÐ³Ð¾ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸.
*   Ð¡Ð¾Ð·Ð´Ð°ÑÑ‚ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ñ‹Ðµ Ð¿Ð¾Ð»Ñ: `UF_LEVEL`, `UF_MESSAGE`, `UF_CONTEXT`, `UF_EXTRA`.
*   Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐµÐ½: Ð¿Ñ€Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð¼ Ð·Ð°Ð¿ÑƒÑÐºÐµ Ð¾Ð½ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ ÑÐ»Ð¾Ð¼Ð°ÐµÑ‚.

---

## ðŸ’¡ ÐšÐ°Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ
Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ„Ð°Ð±Ñ€Ð¸ÐºÑƒ `LoggerFactory` Ð´Ð»Ñ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð³Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð»Ð¾Ð³Ð³ÐµÑ€Ð° Ð² Ð»ÑŽÐ±Ð¾Ð¼ Ð¼ÐµÑÑ‚Ðµ ÐºÐ¾Ð´Ð°.

```php
use Uxie2k\BitrixMonolog\LoggerFactory;

// 1. Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (app - ÐºÐ°Ð½Ð°Ð», SystemLogs - Ð¸Ð¼Ñ HL-Ð±Ð»Ð¾ÐºÐ°)
$logger = LoggerFactory::create('app', 'SystemLogs');

// 2. Ð—Ð°Ð¿Ð¸ÑÑŒ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ (Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ ERROR)
$logger->error('ÐžÑˆÐ¸Ð±ÐºÐ° Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Ñ 1Ð¡', [
    'order_id'   => 1024,
    'error_code' => 500,
    'response'   => 'Server Internal Error'
]);

// 3. Ð—Ð°Ð¿Ð¸ÑÑŒ Ð¸Ð½Ñ„Ð¾ (Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ INFO)
$logger->info('ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ð» Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ');